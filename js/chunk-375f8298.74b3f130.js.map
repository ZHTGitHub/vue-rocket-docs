{"version":3,"sources":["webpack:///./node_modules/vkbeautify/index.js","webpack:///./examples/views/Plugins/Xml/Xml.vue?4d45","webpack:///examples/views/Plugins/Xml/Xml.vue","webpack:///./examples/views/Plugins/Xml/Xml.vue?f303","webpack:///./examples/views/Plugins/Xml/Xml.vue","webpack:///./examples/views/Plugins/Xml/index.js","webpack:///./examples/views/Plugins/Xml/Xml.vue?4a86"],"names":["createShiftArr","step","space","isNaN","parseInt","shift","ix","push","vkbeautify","this","isSubquery","str","parenthesisLevel","replace","length","split_sql","tab","split","prototype","xml","text","ar","len","inComment","deep","search","exec","slice","json","JSON","stringify","parse","css","sql","ar_by_quote","concat","xmlmin","preserveComments","jsonmin","cssmin","sqlmin","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","_v","ref","attrs","on","getXml","onSelect","staticRenderFns","component","DemoXml"],"mappings":"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","file":"js/chunk-375f8298.74b3f130.js","sourcesContent":["/**\r\n* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.\r\n*\r\n* Copyright (c) 2012 Vadim Kiryukhin\r\n* vkiryukhin @ gmail.com\r\n* http://www.eslinstructor.net/vkbeautify/\r\n*\r\n* Dual licensed under the MIT and GPL licenses:\r\n*   http://www.opensource.org/licenses/mit-license.php\r\n*   http://www.gnu.org/licenses/gpl.html\r\n*\r\n*   Pretty print\r\n*\r\n*        vkbeautify.xml(text [,indent_pattern]);\r\n*        vkbeautify.json(text [,indent_pattern]);\r\n*        vkbeautify.css(text [,indent_pattern]);\r\n*        vkbeautify.sql(text [,indent_pattern]);\r\n*\r\n*        @text - String; text to beatufy;\r\n*        @indent_pattern - Integer | String;\r\n*                Integer:  number of white spaces;\r\n*                String:   character string to visualize indentation ( can also be a set of white spaces )\r\n*   Minify\r\n*\r\n*        vkbeautify.xmlmin(text [,preserve_comments]);\r\n*        vkbeautify.jsonmin(text);\r\n*        vkbeautify.cssmin(text [,preserve_comments]);\r\n*        vkbeautify.sqlmin(text);\r\n*\r\n*        @text - String; text to minify;\r\n*        @preserve_comments - Bool; [optional];\r\n*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )\r\n*\r\n*   Examples:\r\n*        vkbeautify.xml(text); // pretty print XML\r\n*        vkbeautify.json(text, 4 ); // pretty print JSON\r\n*        vkbeautify.css(text, '. . . .'); // pretty print CSS\r\n*        vkbeautify.sql(text, '----'); // pretty print SQL\r\n*\r\n*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments\r\n*        vkbeautify.jsonmin(text);// minify JSON\r\n*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )\r\n*        vkbeautify.sqlmin(text);// minify SQL\r\n*\r\n*/\r\nfunction createShiftArr(step) {\r\n\r\n\tvar space = '    ';\r\n\r\n\tif ( isNaN(parseInt(step)) ) {  // argument is string\r\n\t\tspace = step;\r\n\t} else { // argument is integer\r\n\t\tswitch(step) {\r\n\t\t\tcase 1: space = ' '; break;\r\n\t\t\tcase 2: space = '  '; break;\r\n\t\t\tcase 3: space = '   '; break;\r\n\t\t\tcase 4: space = '    '; break;\r\n\t\t\tcase 5: space = '     '; break;\r\n\t\t\tcase 6: space = '      '; break;\r\n\t\t\tcase 7: space = '       '; break;\r\n\t\t\tcase 8: space = '        '; break;\r\n\t\t\tcase 9: space = '         '; break;\r\n\t\t\tcase 10: space = '          '; break;\r\n\t\t\tcase 11: space = '           '; break;\r\n\t\t\tcase 12: space = '            '; break;\r\n\t\t}\r\n\t}\r\n\r\n\tvar shift = ['\\n']; // array of shifts\r\n\tfor(var ix=0;ix<100;ix++) {\r\n\t\tshift.push(shift[ix]+space);\r\n\t}\r\n\treturn shift;\r\n}\r\n\r\nfunction vkbeautify(){\r\n\tthis.step = '    '; // 4 spaces\r\n\tthis.shift = createShiftArr(this.step);\r\n};\r\n\r\nvkbeautify.prototype.xml = function(text,step) {\r\n\r\n\tvar ar = text.replace(/>\\s{0,}</g,\"><\")\r\n\t\t\t\t .replace(/</g,\"~::~<\")\r\n\t\t\t\t .replace(/\\s*xmlns\\:/g,\"~::~xmlns:\")\r\n\t\t\t\t .replace(/\\s*xmlns\\=/g,\"~::~xmlns=\")\r\n\t\t\t\t .split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tinComment = false,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\t// start comment or <![CDATA[...]]> or <!DOCTYPE //\r\n\t\t\tif(ar[ix].search(/<!/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tinComment = true;\r\n\t\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1 || ar[ix].search(/!DOCTYPE/) > -1 ) {\r\n\t\t\t\t\tinComment = false;\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tinComment = false;\r\n\t\t\t} else\r\n\t\t\t// <elm></elm> //\r\n\t\t\tif( /^<\\w/.exec(ar[ix-1]) && /^<\\/\\w/.exec(ar[ix]) &&\r\n\t\t\t\t/^<[\\w:\\-\\.\\,]+/.exec(ar[ix-1]) == /^<\\/[\\w:\\-\\.\\,]+/.exec(ar[ix])[0].replace('/','')) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tif(!inComment) deep--;\r\n\t\t\t} else\r\n\t\t\t // <elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) == -1 && ar[ix].search(/\\/>/) == -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep++]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t // <elm>...</elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// </elm> //\r\n\t\t\tif(ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[--deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <elm/> //\r\n\t\t\tif(ar[ix].search(/\\/>/) > -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <? xml ... ?> //\r\n\t\t\tif(ar[ix].search(/<\\?/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\t// xmlns //\r\n\t\t\tif( ar[ix].search(/xmlns\\:/) > -1  || ar[ix].search(/xmlns\\=/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\treturn  (str[0] == '\\n') ? str.slice(1) : str;\r\n}\r\n\r\nvkbeautify.prototype.json = function(text,step) {\r\n\r\n\tvar step = step ? step : this.step;\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\tif ( typeof text === \"string\" ) return JSON.stringify(JSON.parse(text), null, step);\r\n\tif ( typeof text === \"object\" ) return JSON.stringify(text, null, step);\r\n\r\n\treturn text; // text is not string nor object\r\n}\r\n\r\nvkbeautify.prototype.css = function(text, step) {\r\n\r\n\tvar ar = text.replace(/\\s{1,}/g,' ')\r\n\t\t\t\t.replace(/\\{/g,\"{~::~\")\r\n\t\t\t\t.replace(/\\}/g,\"~::~}~::~\")\r\n\t\t\t\t.replace(/\\;/g,\";~::~\")\r\n\t\t\t\t.replace(/\\/\\*/g,\"~::~/*\")\r\n\t\t\t\t.replace(/\\*\\//g,\"*/~::~\")\r\n\t\t\t\t.replace(/~::~\\s{0,}~::~/g,\"~::~\")\r\n\t\t\t\t.split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tif( /\\{/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep++]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\}/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[--deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\*\\\\/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.replace(/^\\n{1,}/,'');\r\n}\r\n\r\n//----------------------------------------------------------------------------\r\n\r\nfunction isSubquery(str, parenthesisLevel) {\r\n\treturn  parenthesisLevel - (str.replace(/\\(/g,'').length - str.replace(/\\)/g,'').length )\r\n}\r\n\r\nfunction split_sql(str, tab) {\r\n\r\n\treturn str.replace(/\\s{1,}/g,\" \")\r\n\r\n\t\t\t\t.replace(/ AND /ig,\"~::~\"+tab+tab+\"AND \")\r\n\t\t\t\t.replace(/ BETWEEN /ig,\"~::~\"+tab+\"BETWEEN \")\r\n\t\t\t\t.replace(/ CASE /ig,\"~::~\"+tab+\"CASE \")\r\n\t\t\t\t.replace(/ ELSE /ig,\"~::~\"+tab+\"ELSE \")\r\n\t\t\t\t.replace(/ END /ig,\"~::~\"+tab+\"END \")\r\n\t\t\t\t.replace(/ FROM /ig,\"~::~FROM \")\r\n\t\t\t\t.replace(/ GROUP\\s{1,}BY/ig,\"~::~GROUP BY \")\r\n\t\t\t\t.replace(/ HAVING /ig,\"~::~HAVING \")\r\n\t\t\t\t//.replace(/ SET /ig,\" SET~::~\")\r\n\t\t\t\t.replace(/ IN /ig,\" IN \")\r\n\r\n\t\t\t\t.replace(/ JOIN /ig,\"~::~JOIN \")\r\n\t\t\t\t.replace(/ CROSS~::~{1,}JOIN /ig,\"~::~CROSS JOIN \")\r\n\t\t\t\t.replace(/ INNER~::~{1,}JOIN /ig,\"~::~INNER JOIN \")\r\n\t\t\t\t.replace(/ LEFT~::~{1,}JOIN /ig,\"~::~LEFT JOIN \")\r\n\t\t\t\t.replace(/ RIGHT~::~{1,}JOIN /ig,\"~::~RIGHT JOIN \")\r\n\r\n\t\t\t\t.replace(/ ON /ig,\"~::~\"+tab+\"ON \")\r\n\t\t\t\t.replace(/ OR /ig,\"~::~\"+tab+tab+\"OR \")\r\n\t\t\t\t.replace(/ ORDER\\s{1,}BY/ig,\"~::~ORDER BY \")\r\n\t\t\t\t.replace(/ OVER /ig,\"~::~\"+tab+\"OVER \")\r\n\r\n\t\t\t\t.replace(/\\(\\s{0,}SELECT /ig,\"~::~(SELECT \")\r\n\t\t\t\t.replace(/\\)\\s{0,}SELECT /ig,\")~::~SELECT \")\r\n\r\n\t\t\t\t.replace(/ THEN /ig,\" THEN~::~\"+tab+\"\")\r\n\t\t\t\t.replace(/ UNION /ig,\"~::~UNION~::~\")\r\n\t\t\t\t.replace(/ USING /ig,\"~::~USING \")\r\n\t\t\t\t.replace(/ WHEN /ig,\"~::~\"+tab+\"WHEN \")\r\n\t\t\t\t.replace(/ WHERE /ig,\"~::~WHERE \")\r\n\t\t\t\t.replace(/ WITH /ig,\"~::~WITH \")\r\n\r\n\t\t\t\t//.replace(/\\,\\s{0,}\\(/ig,\",~::~( \")\r\n\t\t\t\t//.replace(/\\,/ig,\",~::~\"+tab+tab+\"\")\r\n\r\n\t\t\t\t.replace(/ ALL /ig,\" ALL \")\r\n\t\t\t\t.replace(/ AS /ig,\" AS \")\r\n\t\t\t\t.replace(/ ASC /ig,\" ASC \")\r\n\t\t\t\t.replace(/ DESC /ig,\" DESC \")\r\n\t\t\t\t.replace(/ DISTINCT /ig,\" DISTINCT \")\r\n\t\t\t\t.replace(/ EXISTS /ig,\" EXISTS \")\r\n\t\t\t\t.replace(/ NOT /ig,\" NOT \")\r\n\t\t\t\t.replace(/ NULL /ig,\" NULL \")\r\n\t\t\t\t.replace(/ LIKE /ig,\" LIKE \")\r\n\t\t\t\t.replace(/\\s{0,}SELECT /ig,\"SELECT \")\r\n\t\t\t\t.replace(/\\s{0,}UPDATE /ig,\"UPDATE \")\r\n\t\t\t\t.replace(/ SET /ig,\" SET \")\r\n\r\n\t\t\t\t.replace(/~::~{1,}/g,\"~::~\")\r\n\t\t\t\t.split('~::~');\r\n}\r\n\r\nvkbeautify.prototype.sql = function(text,step) {\r\n\r\n\tvar ar_by_quote = text.replace(/\\s{1,}/g,\" \")\r\n\t\t\t\t\t\t\t.replace(/\\'/ig,\"~::~\\'\")\r\n\t\t\t\t\t\t\t.split('~::~'),\r\n\t\tlen = ar_by_quote.length,\r\n\t\tar = [],\r\n\t\tdeep = 0,\r\n\t\ttab = this.step,//+this.step,\r\n\t\tinComment = true,\r\n\t\tinQuote = false,\r\n\t\tparenthesisLevel = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\tif(ix%2) {\r\n\t\t\t\tar = ar.concat(ar_by_quote[ix]);\r\n\t\t\t} else {\r\n\t\t\t\tar = ar.concat(split_sql(ar_by_quote[ix], tab) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlen = ar.length;\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tparenthesisLevel = isSubquery(ar[ix], parenthesisLevel);\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SET\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\(\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tdeep++;\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\'/.exec(ar[ix]) )  {\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t\telse  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar junk = 0;\r\n\t\t}\r\n\r\n\t\tstr = str.replace(/^\\n{1,}/,'').replace(/\\n{1,}/g,\"\\n\");\r\n\t\treturn str;\r\n}\r\n\r\n\r\nvkbeautify.prototype.xmlmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\<![ \\r\\n\\t]*(--([^\\-]|[\\r\\n]|-[^\\-])*--[ \\r\\n\\t]*)\\>/g,\"\")\r\n\t\t\t\t\t\t\t\t\t .replace(/[ \\r\\n\\t]{1,}xmlns/g, ' xmlns');\r\n\treturn  str.replace(/>\\s{0,}</g,\"><\");\r\n}\r\n\r\nvkbeautify.prototype.jsonmin = function(text) {\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\treturn JSON.stringify(JSON.parse(text), null, 0);\r\n\r\n}\r\n\r\nvkbeautify.prototype.cssmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+\\//g,\"\") ;\r\n\r\n\treturn str.replace(/\\s{1,}/g,' ')\r\n\t\t\t  .replace(/\\{\\s{1,}/g,\"{\")\r\n\t\t\t  .replace(/\\}\\s{1,}/g,\"}\")\r\n\t\t\t  .replace(/\\;\\s{1,}/g,\";\")\r\n\t\t\t  .replace(/\\/\\*\\s{1,}/g,\"/*\")\r\n\t\t\t  .replace(/\\*\\/\\s{1,}/g,\"*/\");\r\n}\r\n\r\nvkbeautify.prototype.sqlmin = function(text) {\r\n\treturn text.replace(/\\s{1,}/g,\" \").replace(/\\s{1,}\\(/,\"(\").replace(/\\s{1,}\\)/,\")\");\r\n}\r\n\r\nmodule.exports = new vkbeautify();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"xml\"},[_c('div',{staticClass:\"xml-content\"},[_c('pre',{directives:[{name:\"highlightjs\",rawName:\"v-highlightjs\",value:(_vm.xml_show),expression:\"xml_show\"}]},[_vm._v(\"      \"),_c('code',{ref:\"code\",staticClass:\"highlight_s\",attrs:{\"contenteditable\":\"true\"}}),_vm._v(\"\\n    \")])]),_c('z-btn',{on:{\"click\":_vm.getXml}},[_vm._v(\"获取xml\")]),_c('input',{ref:\"upload\",staticClass:\"outputlist_upload\",attrs:{\"type\":\"file\",\"accept\":\".xml\"},on:{\"change\":_vm.onSelect}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"xml\">\n    <div class=\"xml-content\">\n      <pre v-highlightjs=\"xml_show\" >\n        <code ref=\"code\" class=\"highlight_s\" contenteditable=\"true\"></code>\n      </pre>\n    </div>\n\n    <z-btn @click=\"getXml\">获取xml</z-btn>\n\n    <input \n      type=\"file\" \n      ref=\"upload\" \n      accept=\".xml\" \n      @change=\"onSelect\" \n      class=\"outputlist_upload\"\n    >\n\n  </div>\n\n</template>\n\n<script>\n  import vkbeautify from 'vkbeautify'\n\n  const xmlSource = `<?xml version=\"1.0\" encoding=\"UTF-8\"?><note><to>Tove</to><from>Jani</from><heading>Reminder</heading><body>Don't forget me this weekend!</body></note>`\n\n  export default {\n    name: 'Xml',\n\n    data() {\n      return {\n        xml_show: null\n      }\n    },\n\n    created() {\n      const result = this.loadXMLDoc('http://localhost:8899/test.xml')\n      this.xml_show = vkbeautify.xml(result)\n    },\n\n    methods: {\n      getXml() {\n        console.log(this.$refs.code.innerText)\n      },\n\n      async onSelect() {\n        const result = await this.readXMLDoc()\n        this.xml_show = vkbeautify.xml(result)\n      },\n\n      readXMLDoc(){  \n        return new Promise((resolve, reject) => {\n          var files = this.$refs.upload.files\n\n          var reader = new FileReader()\n\n          reader.readAsText(files[0], 'UTF-8')\n\n          reader.onload = function(event) { \n            // let [content, xmlDoc] = [event.target.result, null]\n\n            // if (window.DOMParser) {\n            //   var parser = new DOMParser()\n            //   xmlDoc = parser.parseFromString(content, 'text/xml')\n            // } else {\n            //   xmlDoc = new window.ActiveXObject('Microsoft.XMLDOM')\n            //   xmlDoc.async = false\n            //   xmlDoc.loadXML(content)\n            // }\n\n            resolve(event.target.result)\n          }\n\n          reader.onerror = function(error) {\n            reject(error)\n          }\n        })\n      },\n\n      loadXMLDoc(dname) {\n        let [xhttp, serialized] = [null, null]\n\n        if (window.XMLHttpRequest) {\n          xhttp = new XMLHttpRequest()\n        } \n        else {\n          xhttp = new window.ActiveXObject('Microsoft.XMLHTTP')\n        }\n\n        xhttp.open('GET', dname, false)\n        xhttp.send()\n\n        try {\n          const serializer = new XMLSerializer()                                                                                           \n          serialized = serializer.serializeToString(xhttp.responseXML)                                                                            \n        }                                                                                                                                  \n        catch (e) {\n          serialized = xhttp.responseXML                                                                                                        \n        } \n\n        return serialized\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .xml-content {\n    height: 400px;\n    overflow: hidden;\n\n    &>pre {\n      height: 100%;\n\n      &>code.highlight_s {\n        margin-top: -24px;\n        height: 100%;\n        border: 2px solid transparent;\n        transition: .3s cubic-bezier(.25,.8,.5,1);\n\n        &:focus {\n          border: 2px solid #1976d2;\n          outline: none;\n        }\n      }\n    }\n  }\n\n  \n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xml.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xml.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Xml.vue?vue&type=template&id=1a61f14c&scoped=true&\"\nimport script from \"./Xml.vue?vue&type=script&lang=js&\"\nexport * from \"./Xml.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Xml.vue?vue&type=style&index=0&id=1a61f14c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a61f14c\",\n  null\n  \n)\n\nexport default component.exports","import DemoXml from './Xml'\n\nexport { DemoXml }\nexport default DemoXml","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xml.vue?vue&type=style&index=0&id=1a61f14c&scoped=true&lang=scss&\""],"sourceRoot":""}