{"version":3,"sources":["webpack:///./public/images/global/1.jpg","webpack:///./examples/views/Components/DrawImage/UsageExamples.vue?a5c2","webpack:///./examples/views/Components/DrawImage/UsageExamples.vue?7e18","webpack:///./examples/views/Components/DrawImage/cells.js","webpack:///examples/views/Components/DrawImage/UsageExamples.vue","webpack:///./examples/views/Components/DrawImage/UsageExamples.vue?8f66","webpack:///./examples/views/Components/DrawImage/UsageExamples.vue","webpack:///./public/images/global/2.jpg","webpack:///./public/images/global/3.jpg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","code","slot","_l","item","index","key","class","scopedSlots","_u","fn","ref","on","_g","_b","color","disabled","$event","onSelect","style","size","_v","_s","icon","tips","image","switchImage","src","handleDrew","handleInit","handleSave","staticRenderFns","options","transform","require","name","data","images","dataURL","isScreenshot","num","mounted","Prism","methods","console","_keyboardEvents","window","ctrlKey","event","screenshotOrRectangle","changeImage","component"],"mappings":"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","file":"js/chunk-8afd610c.3fe951b9.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/1.7ea3089d.jpg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageExamples.vue?vue&type=style&index=0&id=0e26ec8f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usage-examples\"},[_c('usage-demo',{attrs:{\"code\":_vm.code}},[_c('div',{staticClass:\"z-draw-image-demo\",attrs:{\"slot\":\"demo\"},slot:\"demo\"},[_c('div',{staticClass:\"options\"},[_c('ul',{staticClass:\"z-flex align-center\"},_vm._l((_vm.options),function(item,index){return _c('div',{key:item.key,class:{ 'divider z-flex align-center': index === 5 }},[_c('li',{staticClass:\"mr-2\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":item.color,\"icon\":\"\",\"disabled\":item.disabled},on:{\"click\":function($event){return _vm.onSelect(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{style:(item.style),attrs:{\"size\":item.size}},[_vm._v(_vm._s(item.icon))])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.tips))])])],1)])}),0)]),_c('v-row',{staticClass:\"pt-8\"},[_c('v-col',{attrs:{\"cols\":2}},[_c('ul',_vm._l((_vm.images),function(image){return _c('li',{key:image,on:{\"click\":function($event){return _vm.switchImage(image)}}},[_c('img',{attrs:{\"width\":\"100\",\"src\":image}})])}),0)]),_c('v-col',{staticClass:\"box\",attrs:{\"cols\":10}},[_c('z-draw-image',{ref:\"drawImage\",attrs:{\"fileName\":\"file.png\",\"download\":\"\",\"imageWidth\":\"800\",\"src\":_vm.src},on:{\"drew\":_vm.handleDrew,\"init\":_vm.handleInit,\"save\":_vm.handleSave}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const options = [\r\n  {\r\n    key: 'screenshot',\r\n    icon: 'mdi-content-cut',\r\n    tips: '切图(Ctrl+A)',\r\n    color: '#6a6a6a',\r\n    size: 20,\r\n    style: {\r\n      transform: 'rotate(-90deg)'\r\n    }\r\n  },\r\n\r\n  {\r\n    key: 'rectangle',\r\n    icon: 'mdi-checkbox-blank-outline',\r\n    tips: '矩形(Ctrl+X)',\r\n    color: '#6a6a6a',\r\n    size: 23\r\n  },\r\n\r\n  {\r\n    key: 'text',\r\n    icon: 'mdi-format-text',\r\n    tips: '文字(Ctrl+E)',\r\n    color: '#6a6a6a',\r\n    size: 24\r\n  },\r\n\r\n  {\r\n    key: 'rotateL',\r\n    icon: 'mdi-rotate-left-variant',\r\n    tips: '左旋转(Ctrl+L)',\r\n    color: '#6a6a6a',\r\n    size: 20\r\n  },\r\n\r\n  {\r\n    key: 'rotateR',\r\n    icon: 'mdi-rotate-right-variant',\r\n    tips: '右旋转(Ctrl+R)',\r\n    color: '#6a6a6a',\r\n    size: 20\r\n  },\r\n\r\n  {\r\n    key: 'grow',\r\n    icon: 'mdi-magnify-plus-outline',\r\n    tips: '放大(building)',\r\n    color: '#6a6a6a',\r\n    size: 20\r\n  },\r\n\r\n  {\r\n    key: 'shrink',\r\n    icon: 'mdi-magnify-minus-outline',\r\n    tips: '缩小(building)',\r\n    color: '#6a6a6a',\r\n    size: 20\r\n  },\r\n\r\n  {\r\n    key: 'clear',\r\n    icon: 'mdi-close',\r\n    tips: '清除(Ctrl+Z)',\r\n    color: 'error',\r\n    size: 24\r\n  },\r\n\r\n  {\r\n    key: 'save',\r\n    icon: 'mdi-check',\r\n    tips: '保存(Ctrl+S)',\r\n    color: 'success',\r\n    size: 24\r\n  }\r\n]\r\n\r\nexport default {\r\n  options\r\n}","<template>\r\n  <div class=\"usage-examples\">\r\n    <usage-demo :code=\"code\">\r\n      <div class=\"z-draw-image-demo\" slot=\"demo\">\r\n        <div class=\"options\">\r\n          <ul class=\"z-flex align-center\">\r\n            <div \r\n              v-for=\"(item, index) in options\" \r\n              :key=\"item.key\"\r\n              :class=\"{ 'divider z-flex align-center': index === 5 }\"\r\n            >\r\n              <li class=\"mr-2\">\r\n                <v-tooltip bottom>\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                      :color=\"item.color\"\r\n                      icon\r\n                      :disabled=\"item.disabled\"\r\n                      v-bind=\"attrs\"\r\n                      v-on=\"on\"\r\n                      @click=\"onSelect(item)\"\r\n                    >\r\n                      <v-icon \r\n                        :size=\"item.size\"\r\n                        :style=\"item.style\"\r\n                      >{{ item.icon }}</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>{{ item.tips }}</span>\r\n                </v-tooltip>\r\n              </li>\r\n            </div>\r\n          </ul>\r\n        </div>\r\n\r\n        <v-row class=\"pt-8\">\r\n          <v-col :cols=\"2\">\r\n            <ul>\r\n              <li \r\n                v-for=\"image in images\" \r\n                :key=\"image\"\r\n                @click=\"switchImage(image)\"\r\n              >\r\n                <img width=\"100\" :src=\"image\" />\r\n              </li>\r\n            </ul>\r\n          </v-col>\r\n\r\n          <!-- 截图 BEGIN -->\r\n          <v-col :cols=\"10\" class=\"box\">\r\n            <z-draw-image \r\n              ref=\"drawImage\"\r\n              fileName=\"file.png\"\r\n              download\r\n              imageWidth=\"800\"\r\n              :src=\"src\"\r\n              @drew=\"handleDrew\"\r\n              @init=\"handleInit\"\r\n              @save=\"handleSave\"\r\n            ></z-draw-image>\r\n          </v-col>\r\n          <!-- 截图 END -->\r\n        </v-row>\r\n      </div>\r\n    </usage-demo>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Prism from 'prismjs'\r\n  import 'prismjs/themes/prism-okaidia.css'\r\n\r\n  import cells from './cells'\r\n\r\n  const images = [\r\n    require('../../../../public/images/global/1.jpg'),\r\n    require('../../../../public/images/global/2.jpg'),\r\n    require('../../../../public/images/global/3.jpg')\r\n  ]\r\n\r\n  const code = \r\n`\r\n<z-draw-image \r\n  ref=\"drawImage\"\r\n  fileName=\"file.png\"\r\n  download\r\n  imageWidth=\"800\"\r\n  :src=\"src\"\r\n  @drew=\"handleDrew\"\r\n  @init=\"handleInit\"\r\n  @save=\"handleSave\"\r\n></z-draw-image>`\r\n\r\n  export default {\r\n    name: 'UsageExamples',\r\n\r\n    data() {\r\n      return {\r\n        code,\r\n\r\n        images,\r\n        options: cells.options,\r\n        dataURL: '',\r\n\r\n        isScreenshot: true,\r\n\r\n        num: -1,\r\n\r\n        src: images[0]\r\n      }\r\n    },\r\n\r\n    mounted() {\r\n      Prism.highlightAll()\r\n      this._keyboardEvents()\r\n    },\r\n\r\n    methods: {\r\n      handleInit() {\r\n        this.$refs.drawImage.drawScreenshot()\r\n      },\r\n\r\n      switchImage(image) {\r\n        this.src = image\r\n        // console.log(this.src)\r\n      },\r\n\r\n      handleDrew({ dataURL, file }) {\r\n        this.dataURL = dataURL\r\n        // console.log(file)\r\n      },\r\n\r\n      handleSave({ dataURL, file }) {\r\n        console.log(dataURL)\r\n        console.log(file)\r\n      },\r\n\r\n      // 某项操作\r\n      onSelect({ key }) {\r\n        switch (key) {\r\n          case 'screenshot':\r\n            this.$refs.drawImage.drawScreenshot()\r\n            break;\r\n\r\n          case 'rectangle':\r\n            this.$refs.drawImage.drawRectangle()\r\n            break;\r\n          \r\n          case 'text':\r\n            this.$refs.drawImage.drawText()\r\n            break;\r\n          \r\n          case 'rotateL':\r\n            this.$refs.drawImage.rotateImage('left')\r\n            break;\r\n\r\n          case 'rotateR':\r\n            this.$refs.drawImage.rotateImage('right')\r\n            break;\r\n\r\n          case 'grow':\r\n            this.$refs.drawImage.zoomIn()\r\n            break;\r\n\r\n          case 'shrink':\r\n            this.$refs.drawImage.zoomOut()\r\n            break;\r\n          \r\n          case 'clear':\r\n            this.$refs.drawImage.clear()\r\n            break;\r\n          \r\n          case 'save':\r\n            this.$refs.drawImage.onSave()\r\n            break;\r\n        }\r\n      },\r\n\r\n      // 按键\r\n      _keyboardEvents() {\r\n        window.addEventListener('keydown', (event) => {\r\n          const { altKey, ctrlKey, keyCode } = event\r\n\r\n          switch (keyCode) {\r\n            case 37: \r\n              ctrlKey && this.$refs.drawImage.scrollLeft()\r\n              break;\r\n\r\n            case 38: \r\n              ctrlKey && this.$refs.drawImage.scrollTop()\r\n              break;\r\n\r\n            case 39: \r\n              ctrlKey && this.$refs.drawImage.scrollRight()\r\n              break;\r\n\r\n            case 40: \r\n              ctrlKey && this.$refs.drawImage.scrollBottom()\r\n              break;\r\n\r\n            // 切图\r\n            case 65:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.drawScreenshot()\r\n              break;\r\n\r\n            // 矩形\r\n            case 88:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.drawRectangle()\r\n              break;\r\n\r\n            // 文字\r\n            case 69:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.drawText()\r\n              break;\r\n\r\n            // 左旋转\r\n            case 76:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.rotateImage('left')\r\n              break;\r\n\r\n            // 右旋转\r\n            case 82:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.rotateImage('right')\r\n              break;\r\n\r\n            // 清除\r\n            case 90:\r\n              event.preventDefault()\r\n              if(ctrlKey && !altKey) {\r\n                this.$refs.drawImage.clear()\r\n              }\r\n              else if(ctrlKey && altKey) {\r\n                this.screenshotOrRectangle()\r\n              }\r\n              break;\r\n            \r\n            // 保存\r\n            case 83:\r\n              event.preventDefault()\r\n              ctrlKey && this.$refs.drawImage.onSave()\r\n              break;\r\n          }\r\n        })\r\n      },\r\n\r\n      // 同时按下Ctrl+Alt+Z进行切图和框图切换\r\n      screenshotOrRectangle() {\r\n        this.isScreenshot = !this.isScreenshot\r\n\r\n        if(this.isScreenshot) this.$refs.drawImage.drawScreenshot()\r\n        else this.$refs.drawImage.drawRectangle()\r\n      },\r\n\r\n      changeImage() {\r\n        ++this.num\r\n\r\n        if(this.num >= images.length) {\r\n          this.num = 0\r\n        }\r\n\r\n        this.src = images[this.num]\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .z-draw-image-demo {\r\n    position: relative;\r\n\r\n    .options {\r\n      position: absolute;\r\n      border: 1px solid rgba(0, 0, 0, .06);\r\n      background-color: #fff;\r\n      z-index: 1;\r\n\r\n      ul, li {\r\n        padding: 0;\r\n        margin: 0;\r\n        list-style-type: none;\r\n      }\r\n\r\n      .divider::before {\r\n        content: '';\r\n        display: inline-block;\r\n        margin-right: 8px;\r\n        width: 1px;\r\n        height: 20px;\r\n        background-color: rgba(0, 0, 0, .15);\r\n      }\r\n    }\r\n\r\n    .box {\r\n      height: 600px;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageExamples.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageExamples.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsageExamples.vue?vue&type=template&id=0e26ec8f&scoped=true&\"\nimport script from \"./UsageExamples.vue?vue&type=script&lang=js&\"\nexport * from \"./UsageExamples.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UsageExamples.vue?vue&type=style&index=0&id=0e26ec8f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e26ec8f\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/2.a34cbd87.jpg\";","module.exports = __webpack_public_path__ + \"img/3.99be759c.jpg\";"],"sourceRoot":""}